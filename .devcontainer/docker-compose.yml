version: "3"
services:
  # start the ganache cli container
  ganache-cli:
    container_name: ganache-cli
    image: trufflesuite/ganache-cli
    entrypoint:
      [
        "node",
        "/app/ganache-core.docker.cli.js",
        "--quiet",
        "--networkId",
        "57771",
        "--verbose",
        "--host",
        "0.0.0.0",
      ]
    ports:
      - 5545:7545
    networks:
      - ganache-network
  truffle-suite:
    container_name: truffle-suite
    image: crizstian/devcontainer-truffle:latest
    volumes:
      - "..:/workspace"
    stdin_open: true
    tty: true
networks:
  ganache-network:
